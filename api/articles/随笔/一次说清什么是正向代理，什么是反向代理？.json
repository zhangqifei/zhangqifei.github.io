{"title":"一次说清什么是正向代理，什么是反向代理？","slug":"随笔/一次说清什么是正向代理，什么是反向代理？","date":"2018-03-05T01:42:22.000Z","updated":"2018-04-23T07:12:14.352Z","comments":true,"path":"api/articles/随笔/一次说清什么是正向代理，什么是反向代理？.json","excerpt":null,"covers":["http://zhangqifei.top/picture/httpd/20180307210726782.png","http://zhangqifei.top/picture/httpd/20180307210840303.png","http://zhangqifei.top/picture/httpd/20180307211940945"],"content":"<h3 id=\"正向代理\"><a href=\"#正向代理\" class=\"headerlink\" title=\"正向代理\"></a>正向代理</h3><p>比如你现在缺钱，想找马云爸爸去借钱，可想而知人家可能鸟都不鸟你，到最后碰一鼻子灰借不到钱。不过你认识你家隔壁老王，而老王认识马云同志，而且关系还很好。这时候你托老王去找马云借钱，当然这事最后成了，你从马云那里借到了500万！这时候马云并不知道钱是你借的，只知道这钱是老王借的。最后由老王把钱转交给你。在这里，老王就充当了一个重要的角色：代理。</p>\n<p>此时的代理，就是我们常说的正向代理。代理客户端去请求服务器，隐藏了真实客户端，服务器并不知道真实的客户端是谁。正向代理应用最广泛的莫过于现在的某些“科学上网工具”，你访问不了谷歌、Facebook的时候，你可以在国外搭建一台代理服务器，代理你访问，代理服务器再把请求到的数据转交给你，你就可以看到内容了</p>\n<center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307210726782.png\" alt=\"正向代理\"><br></center>\n\n<p><strong>相对专业点解释：</strong></p>\n<p>正向代理是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。</p>\n<h3 id=\"反向代理\"><a href=\"#反向代理\" class=\"headerlink\" title=\"反向代理\"></a>反向代理</h3><p>比如你现在很无聊，想找人聊天，这时候你拨通了联通客服10010电话，联通的总机可能随机给你分配一个闲置的客服给你接通。这时候你如愿以偿的和客服聊了起来，问了问她目前有没有结婚、有没有对象、家住哪里、她的微信号、她的手机号。。。</p>\n<p>此时联通总机充当的角色就是反向代理，你只知道和客服接通并聊了起来，具体为什么会接通这个客服MM，怎么接通的，你并不知道。</p>\n<p>反向代理隐藏了真正的服务端，就像你每天使用百度的时候，只知道敲打<a href=\"http://www.baidu.com就可以打开百度搜索页面，但背后成千上万台百度服务器具体是哪一台为我们服务的，我们并不知道。我们只知道这个代理服务器，它会把我们的请求转发到真实为我们服务的那台服务器那里去。\" target=\"_blank\" rel=\"noopener\">www.baidu.com就可以打开百度搜索页面，但背后成千上万台百度服务器具体是哪一台为我们服务的，我们并不知道。我们只知道这个代理服务器，它会把我们的请求转发到真实为我们服务的那台服务器那里去。</a></p>\n<p>软件层面一般常用Nginx来做反向代理服务器，它的性能非常好，用来做负载均衡。</p>\n<center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307210840303.png\" alt=\"反向代理\"><br></center>\n\n<p><strong>相对专业点解释：</strong></p>\n<ul>\n<li>反向代理（Reverse Proxy）方式是指以代理服务器来接受Internet上的连接请求，然后将请求转发给内部网络上的服务器；并将从服务器上得到的结果返回给Internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。</li>\n<li>通常的代理服务器，只用于代理内部网络对Internet的连接请求，客户机必须指定代理服务器,并将本来要直接发送到Web服务器上的http请求发送 到代理服务器中。当一个代理服务器能够代理外部网络上的主机，访问内部网络时，这种代理服务的方式称为反向代理服务。</li>\n</ul>\n<blockquote>\n<p>综上所述：正向代理代理对象是客户端，反向代理代理对象是服务端。</p>\n</blockquote>\n<h3 id=\"两者区别\"><a href=\"#两者区别\" class=\"headerlink\" title=\"两者区别\"></a>两者区别</h3><p><center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307211940945\" alt=\"这里写图片描述\"><br></center><br><strong>从用途 上来讲：</strong></p>\n<ul>\n<li>正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性减少网络使用率。反向代理的典型用途是将 防火墙后面的服务器提供给Internet用户访问。反向代理还可以为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。</li>\n<li>另外，反向代理还可以启用高级URL策略和管理技术，从而使处于不同web服务器系统的web页面同时存在于同一个URL空间下。</li>\n</ul>\n<p><strong>从安全性 来讲：</strong></p>\n<ul>\n<li>正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。</li>\n<li>反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。</li>\n</ul>\n<blockquote>\n<p>最后一句话总结：<br>打个比方，有a,b,c三个人<br>正向代理是： a通过b向C借钱，a知道c的存在 。<br>反向代理是： a向b借钱，b又向C借，a不知道c的存在。</p>\n</blockquote>\n<p><a href=\"https://baijiahao.baidu.com/s?id=1566988836622068&amp;wfr=spider&amp;for=pc\" target=\"_blank\" rel=\"noopener\">原文链接</a> 之所以转载这篇文章，是因为例子举的太好了，非常适合初学者理解。但是样式有点乱 自己稍微整理了下。</p>\n","more":"<h3 id=\"正向代理\"><a href=\"#正向代理\" class=\"headerlink\" title=\"正向代理\"></a>正向代理</h3><p>比如你现在缺钱，想找马云爸爸去借钱，可想而知人家可能鸟都不鸟你，到最后碰一鼻子灰借不到钱。不过你认识你家隔壁老王，而老王认识马云同志，而且关系还很好。这时候你托老王去找马云借钱，当然这事最后成了，你从马云那里借到了500万！这时候马云并不知道钱是你借的，只知道这钱是老王借的。最后由老王把钱转交给你。在这里，老王就充当了一个重要的角色：代理。</p>\n<p>此时的代理，就是我们常说的正向代理。代理客户端去请求服务器，隐藏了真实客户端，服务器并不知道真实的客户端是谁。正向代理应用最广泛的莫过于现在的某些“科学上网工具”，你访问不了谷歌、Facebook的时候，你可以在国外搭建一台代理服务器，代理你访问，代理服务器再把请求到的数据转交给你，你就可以看到内容了</p>\n<center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307210726782.png\" alt=\"正向代理\"><br></center>\n\n<p><strong>相对专业点解释：</strong></p>\n<p>正向代理是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。</p>\n<h3 id=\"反向代理\"><a href=\"#反向代理\" class=\"headerlink\" title=\"反向代理\"></a>反向代理</h3><p>比如你现在很无聊，想找人聊天，这时候你拨通了联通客服10010电话，联通的总机可能随机给你分配一个闲置的客服给你接通。这时候你如愿以偿的和客服聊了起来，问了问她目前有没有结婚、有没有对象、家住哪里、她的微信号、她的手机号。。。</p>\n<p>此时联通总机充当的角色就是反向代理，你只知道和客服接通并聊了起来，具体为什么会接通这个客服MM，怎么接通的，你并不知道。</p>\n<p>反向代理隐藏了真正的服务端，就像你每天使用百度的时候，只知道敲打<a href=\"http://www.baidu.com就可以打开百度搜索页面，但背后成千上万台百度服务器具体是哪一台为我们服务的，我们并不知道。我们只知道这个代理服务器，它会把我们的请求转发到真实为我们服务的那台服务器那里去。\" target=\"_blank\" rel=\"noopener\">www.baidu.com就可以打开百度搜索页面，但背后成千上万台百度服务器具体是哪一台为我们服务的，我们并不知道。我们只知道这个代理服务器，它会把我们的请求转发到真实为我们服务的那台服务器那里去。</a></p>\n<p>软件层面一般常用Nginx来做反向代理服务器，它的性能非常好，用来做负载均衡。</p>\n<center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307210840303.png\" alt=\"反向代理\"><br></center>\n\n<p><strong>相对专业点解释：</strong></p>\n<ul>\n<li>反向代理（Reverse Proxy）方式是指以代理服务器来接受Internet上的连接请求，然后将请求转发给内部网络上的服务器；并将从服务器上得到的结果返回给Internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。</li>\n<li>通常的代理服务器，只用于代理内部网络对Internet的连接请求，客户机必须指定代理服务器,并将本来要直接发送到Web服务器上的http请求发送 到代理服务器中。当一个代理服务器能够代理外部网络上的主机，访问内部网络时，这种代理服务的方式称为反向代理服务。</li>\n</ul>\n<blockquote>\n<p>综上所述：正向代理代理对象是客户端，反向代理代理对象是服务端。</p>\n</blockquote>\n<h3 id=\"两者区别\"><a href=\"#两者区别\" class=\"headerlink\" title=\"两者区别\"></a>两者区别</h3><p><center><br><img src=\"http://zhangqifei.top/picture/httpd/20180307211940945\" alt=\"这里写图片描述\"><br></center><br><strong>从用途 上来讲：</strong></p>\n<ul>\n<li>正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性减少网络使用率。反向代理的典型用途是将 防火墙后面的服务器提供给Internet用户访问。反向代理还可以为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。</li>\n<li>另外，反向代理还可以启用高级URL策略和管理技术，从而使处于不同web服务器系统的web页面同时存在于同一个URL空间下。</li>\n</ul>\n<p><strong>从安全性 来讲：</strong></p>\n<ul>\n<li>正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。</li>\n<li>反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。</li>\n</ul>\n<blockquote>\n<p>最后一句话总结：<br>打个比方，有a,b,c三个人<br>正向代理是： a通过b向C借钱，a知道c的存在 。<br>反向代理是： a向b借钱，b又向C借，a不知道c的存在。</p>\n</blockquote>\n<p><a href=\"https://baijiahao.baidu.com/s?id=1566988836622068&amp;wfr=spider&amp;for=pc\" target=\"_blank\" rel=\"noopener\">原文链接</a> 之所以转载这篇文章，是因为例子举的太好了，非常适合初学者理解。但是样式有点乱 自己稍微整理了下。</p>\n","categories":[{"name":"随笔","path":"api/categories/随笔.json"}],"tags":[]}