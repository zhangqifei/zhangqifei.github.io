{"title":"centos7的变化","slug":"centos7/centos7","date":"2018-01-06T17:50:32.000Z","updated":"2019-05-22T09:02:42.178Z","comments":true,"path":"api/articles/centos7/centos7.json","excerpt":null,"covers":null,"content":"<ul>\n<li><p>CentOS 7.0默认使用的是firewall作为防火墙，这里改为iptables防火墙。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop firewalld.service \t\t\t停止firewall</span><br><span class=\"line\">systemctl disable firewalld.service \t\t\t禁止firewall开机启动</span><br><span class=\"line\">firewall-cmd --state \t\t\t\t\t查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>启动iptables</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start iptables.service\t\t\t</span><br><span class=\"line\">cat /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>原来在RHEL7开始，使用systemctl工具来管理服务程序，包括了service和chkconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl list-unit-files|grep enabled\t\t\t查看已启动的服务列表</span><br><span class=\"line\">systemctl start firewalld.service\t\t\t\t启动一个服务</span><br><span class=\"line\">systemctl stop firewalld.service\t\t\t\t关闭一个服务</span><br><span class=\"line\">systemctl restart firewalld.service\t\t\t\t重启一个服务</span><br><span class=\"line\">systemctl status firewalld.service\t\t\t\t显示一个服务的状态：</span><br><span class=\"line\">systemctl enable firewalld.service\t\t\t\t在开机时启用一个服务</span><br><span class=\"line\">systemctl disable firewalld.service\t\t\t\t在开机时禁用一个服务</span><br><span class=\"line\">systemctl is-enabled firewalld.service;echo $?\t查看服务是否开机启动</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Centos7用ip命令代替ifconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># ip link show                # 显示网络接口信息</span><br><span class=\"line\"># ip link set eth0 upi           # 开启网卡</span><br><span class=\"line\"># ip link set eth0 down          # 关闭网卡</span><br><span class=\"line\"># ip link set eth0 promisc on      # 开启网卡的混合模式</span><br><span class=\"line\"># ip link set eth0 promisc offi     # 关闭网卡的混个模式</span><br><span class=\"line\"># ip link set eth0 txqueuelen 1200   # 设置网卡队列长度</span><br><span class=\"line\"># ip link set eth0 mtu 1400        # 设置网卡最大传输单元</span><br><span class=\"line\"># ip addr show                # 显示网卡IP信息</span><br><span class=\"line\"># ip addr add 192.168.0.1/24 dev eth0 # 设置eth0网卡IP地址192.168.0.1</span><br><span class=\"line\"># ip addr del 192.168.0.1/24 dev eth0 # 删除eth0网卡IP地址</span><br><span class=\"line\"></span><br><span class=\"line\"># ip route list                 # 查看路由信息</span><br><span class=\"line\"># ip route add 192.168.4.0/24  via  192.168.0.254 dev eth0 # 设置192.168.4.0网段的网关为192.168.0.254,数据走eth0接口</span><br><span class=\"line\"># ip route add default via  192.168.0.254  dev eth0    # 设置默认网关为192.168.0.254</span><br><span class=\"line\"># ip route del 192.168.4.0/24      # 删除192.168.4.0网段的网关</span><br><span class=\"line\"># ip route del default          # 删除默认路由</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n","more":"<ul>\n<li><p>CentOS 7.0默认使用的是firewall作为防火墙，这里改为iptables防火墙。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop firewalld.service \t\t\t停止firewall</span><br><span class=\"line\">systemctl disable firewalld.service \t\t\t禁止firewall开机启动</span><br><span class=\"line\">firewall-cmd --state \t\t\t\t\t查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>启动iptables</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start iptables.service\t\t\t</span><br><span class=\"line\">cat /etc/sysconfig/iptables</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>原来在RHEL7开始，使用systemctl工具来管理服务程序，包括了service和chkconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl list-unit-files|grep enabled\t\t\t查看已启动的服务列表</span><br><span class=\"line\">systemctl start firewalld.service\t\t\t\t启动一个服务</span><br><span class=\"line\">systemctl stop firewalld.service\t\t\t\t关闭一个服务</span><br><span class=\"line\">systemctl restart firewalld.service\t\t\t\t重启一个服务</span><br><span class=\"line\">systemctl status firewalld.service\t\t\t\t显示一个服务的状态：</span><br><span class=\"line\">systemctl enable firewalld.service\t\t\t\t在开机时启用一个服务</span><br><span class=\"line\">systemctl disable firewalld.service\t\t\t\t在开机时禁用一个服务</span><br><span class=\"line\">systemctl is-enabled firewalld.service;echo $?\t查看服务是否开机启动</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Centos7用ip命令代替ifconfig</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># ip link show                # 显示网络接口信息</span><br><span class=\"line\"># ip link set eth0 upi           # 开启网卡</span><br><span class=\"line\"># ip link set eth0 down          # 关闭网卡</span><br><span class=\"line\"># ip link set eth0 promisc on      # 开启网卡的混合模式</span><br><span class=\"line\"># ip link set eth0 promisc offi     # 关闭网卡的混个模式</span><br><span class=\"line\"># ip link set eth0 txqueuelen 1200   # 设置网卡队列长度</span><br><span class=\"line\"># ip link set eth0 mtu 1400        # 设置网卡最大传输单元</span><br><span class=\"line\"># ip addr show                # 显示网卡IP信息</span><br><span class=\"line\"># ip addr add 192.168.0.1/24 dev eth0 # 设置eth0网卡IP地址192.168.0.1</span><br><span class=\"line\"># ip addr del 192.168.0.1/24 dev eth0 # 删除eth0网卡IP地址</span><br><span class=\"line\"></span><br><span class=\"line\"># ip route list                 # 查看路由信息</span><br><span class=\"line\"># ip route add 192.168.4.0/24  via  192.168.0.254 dev eth0 # 设置192.168.4.0网段的网关为192.168.0.254,数据走eth0接口</span><br><span class=\"line\"># ip route add default via  192.168.0.254  dev eth0    # 设置默认网关为192.168.0.254</span><br><span class=\"line\"># ip route del 192.168.4.0/24      # 删除192.168.4.0网段的网关</span><br><span class=\"line\"># ip route del default          # 删除默认路由</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n","categories":[{"name":"centos7","path":"api/categories/centos7.json"}],"tags":[{"name":"centos7","path":"api/tags/centos7.json"}]}